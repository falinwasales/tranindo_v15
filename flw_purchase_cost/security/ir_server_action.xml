<odoo>
    <record id="server_action_update_purchase_order_line_product" model="ir.actions.server">
        <field name="name">Update Purchase Order Line Product</field>
        <field name="model_id" ref="purchase.model_purchase_order"/>
        <field name="state">code</field>
        <field name="code">for purchase in records:
                for line in purchase.order_line:
                    if line.product_id:
                        line.update({'product_id': line.product_id.id})
        </field>
    </record>
</odoo>